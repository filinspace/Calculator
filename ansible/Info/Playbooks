# https://geekops.guru/ansible-sozdanie-i-obzor-strukturi-dlya-playbook-contenta/
# pro
Playbook частенько применяют для первичной конфигурации нескольких удаленных машин, например, чтобы:
    -добавить нескольких пользователей,
    -добавить каталоги,
    -управлять установленными программами и их обновлениями,
    -взаимодействовать с документами и тд.

Ansible Playbook может управлять целым парком удаленных серверов, работающих под управлением разных операционных систем.

Ansible Playbook строится по такому шаблону:

- - -

- host: [имя группы удаленных машин]

remote_user: [имя пользователя]

tasks:

- [модуль с заданиями для серверов]

- [модуль с заданиями для серверов]

- [модуль с заданиями для серверов]

Запуск Ansible Playbook
    Изначально плейбуки формируют в отдельном документе с расширением «.yml». Допустим, есть сформированный документ «myexample.yml». Для того чтобы е го в дальнейшем вызвать, можно воспользоваться следующей командой:

ansible-playbook myexample.yml

    Бывает такое, что готовый Ansible Плейбук нет необходимости применять ко всем подключенным хостам, а лишь к отдельным из них. Допустим, нам нужно применить наш файл ко 2-му и 4-му хостам; для включения такого фильтра к нашему сценарию нужно добавить флаг «- l» и указать нужные хосты. Тогда команда вызова будет такой:

ansible-playbook - l host2 host4 myexample.yml